---
tags:
  - my-article
Checkbox 1: true
---
**【充電排程演算法 Lesson Learning】**





— 演算法、機器學習、AI 相關案子，如果沒有做特定安排，很容易產生問題。這次是我們第一次處理外部場域的案子，過程中有些小踩雷，值得紀錄。



這是一個電動車充電排程的案子，我們 Team 負責報表與演算法。這兩週在趕上線的過程中遇到不少狀況，原因很多，其中一部分是因為主導本案的 PM 對演算法案子經驗較少，導致出現一些不必要的困擾，在此紀錄學習心得。



---





## **▋主要學習重點**





- 把訂出**評估標準**當作第一要務

- 系統要規劃好**檢驗、迭代、維運**演算法的機制

- 不同演算法有不同特性，**要依特性安排開發時程**





> *補充說明*：PM 在系統規劃與驗測方面其實非常細心，成果也令人滿意，開發團隊也很專業。這些紀錄純粹針對「演算法」部分的經驗反思，沒有其他批評之意。



---





## **▋把訂出評估標準當作第一要務**





演算法、機器學習、AI 專案的結果往往具有隨機性與彈性，因此「好壞」評估標準應該與業務需求密切連結。本案初期只有一些系統面標準（如：要充滿電、分階段充電），但針對演算法部分，應該加入更細緻的業務導向標準，例如：



- 夜間排程：100 次排程中，98% 車輛的電池容量應達 98% 以上

- 臨時充電：演算時間越短、主要功率越早排滿越好





但這個案子最終是到上線前才設定幾個案例作為測試。其實我們曾建議可以建立模擬與驗測機制，效果會更好，但 PM 團隊還是較專注在系統功能的 Task，導致這兩週處理上比較煎熬。



---





## **▋系統要為演算法設計方便的驗證與維運機制**





演算法是本案重要的一環，系統應提供以下機制：



- **權重調整機制**：軟限制常需搭配權重，但若寫死在程式碼中就難以調整，而這些權重本質上是可以依業務需求頻繁變動的。

- **流程與結果的可視化**：目前系統無法清楚呈現演算法流程與評分結果，導致 Debug 時需花很多時間，這部分其實可以事前設計好。

- **測試案例與驗證機制**：我們設計了模擬機制，能以資料夾分類管理多個測試案例。但最後 PM 團隊只挑幾個案例檢查，就判斷演算法表現不佳，這樣的驗證方法缺乏全面性，對後續優化不利。





PM 團隊仍多以傳統系統思維看待演算法，認為只要驗過某些情況就算合格，但這種方式無法涵蓋所有可能的充電狀況。



---





## **▋不同演算法有不同特性，需配合安排開發時程**





本案使用的是**基因演算法**，其特性是對「硬上限」的變更比較敏感，需大幅修改程式邏輯。



這是因為初始值產生、變異、交配（crossover）過程，以及後續我們補上去的檢查與微調機制，都必須依照新的硬限制調整。



此外，因為充電場景中涉及功率、時間單位、車輛代碼等運算轉換，變數稍有錯誤就會導致結果出錯。



再者，還需確保隨機變異機制足夠靈活，否則演算法可能找不到足夠好的解。



這些複雜度，讓我們在被要求兩週內完成硬限制調整並上線時，陷入相當大的壓力。



更別提前期對演算法重視度不高，反而頻繁修改 UI（我們也負責報表開發），這些因素累積下來，讓我們團隊的情緒在近期達到最高點。



---





## **▋小結**





整體而言，這是我們團隊第一次做外部產品的案子，還是學到了很多。大家都很努力把系統完成並成功上線，這段過程會成為日後成長的重要經驗。



在 AI 能力持續進化的時代，實戰經驗才更具價值。因為有些問題，就算問得出來，沒親自經歷過，也很難轉化為具體的改進方向。