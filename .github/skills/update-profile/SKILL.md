---
name: update-profile
description: 分析用戶喜歡的文章，萃取閱讀偏好（主題/視角/風格），更新 MY_PROFILE.md。適用於用戶說「更新偏好」「分析我喜歡的文章」「update profile」時。Use when user wants to analyze favorite articles and update their reading preference profile.
---

# Skill: Update Profile（閱讀偏好更新器）

## 目標
接收用戶提供的喜歡文章，分析其共通點，萃取出精煉的閱讀偏好設定，寫入 `.github/skills/scout-news/MY_PROFILE.md` 的「閱讀偏好」區段，讓 scout-news 等 skill 能根據偏好更精準地搜尋和篩選內容。

## Pipeline 總覽

```
[Step 1] COLLECT   接收用戶提供的文章
[Step 2] ANALYZE   分析文章共通點：主題、視角、風格
         ↓
【檢查點】用戶確認/調整分析結果
         ↓
[Step 3] UPDATE    寫入 MY_PROFILE.md
         ↓
輸出更新摘要
```

## 執行流程

### Step 1: COLLECT（收集文章）
**模式**：半自動

請用戶提供 3-10 篇他非常喜歡、會收藏的文章：

**接受的輸入方式**：
- **URL**：使用 WebFetch 抓取文章全文
- **貼上全文**：用戶直接貼文章內容
- **指向本地檔案**：指定 `/004_2Express/` 或 `/000Inbox/` 中的檔案路徑

**提示用戶**：
```
請提供 3-10 篇你非常喜歡的文章，可以是：
- URL 連結
- 直接貼上文章內容
- 知識庫中的檔案路徑

這些文章將用來分析你的閱讀偏好，越多樣越能精準描繪你的品味。
```

**注意**：
- 如果用戶提供的文章少於 3 篇，提醒樣本可能不足，但仍可繼續
- 逐一讀取每篇文章，記錄標題和關鍵內容

---

### Step 2: ANALYZE（分析偏好）
**模式**：全自動

仔細閱讀所有文章，針對以下三個維度萃取共通點：

#### 主題偏好 (Topics)
- 這些文章主要在探討哪些領域、核心議題？
- 提取具體的關鍵字，精確到可以直接作為 AI 搜尋指令
- 不要太寬泛（如「科技」），要具體到用戶的關注角度（如「AI Agent 的企業落地挑戰」）

#### 視角偏好 (Perspectives)
- 作者切入問題的角度是什麼？
- 例如：第一人稱實戰經驗、客觀數據分析、逆向思考、批判性觀點、實用主義、底層邏輯探討、系統性思維、跨領域類比
- 找出用戶偏好的「思考方式」，而非只是主題

#### 風格偏好 (Styles)
- 文章的語氣和結構讀起來的感覺
- 例如：邏輯嚴密、文字精煉、條理分明、善用比喻、有框架感、觀點鮮明、不說廢話
- 注意篇幅偏好（長文深度分析 vs 精簡摘要）

**分析原則**：
- 找交集，不是聯集：重點是這些文章「共同」具備的特質
- 用精確、可操作的描述，避免模糊的形容詞
- 每個維度列出 3-7 個要點，用一句話精煉描述

---

### 【檢查點】確認分析結果
**模式**：人工

向用戶呈現分析結果：

```markdown
## 閱讀偏好分析結果

### 分析樣本
共分析 X 篇文章：
1. [文章標題 1]
2. [文章標題 2]
...

### 主題偏好 (Topics)
- [要點 1]
- [要點 2]
...

### 視角偏好 (Perspectives)
- [要點 1]
- [要點 2]
...

### 風格偏好 (Styles)
- [要點 1]
- [要點 2]
...

---
確認寫入 MY_PROFILE.md？或調整：
- 新增要點（輸入「加：[維度] [內容]」）
- 刪除要點（輸入「刪：[維度] [內容]」）
- 修改描述（直接說明修改）
```

---

### Step 3: UPDATE（更新 MY_PROFILE）
**模式**：全自動

1. 讀取 `.github/skills/scout-news/MY_PROFILE.md`
2. 更新以下區段：
   - `> 最後更新：` 改為今天日期
   - `### 主題偏好 (Topics)` 下方替換為新分析結果
   - `### 視角偏好 (Perspectives)` 下方替換為新分析結果
   - `### 風格偏好 (Styles)` 下方替換為新分析結果
3. **保留「關注方向清單」區段不動**
4. 儲存檔案

---

## 更新摘要

完成後輸出：

```markdown
## MY_PROFILE 更新摘要

- 分析文章數：X 篇
- 更新日期：YYYY-MM-DD
- 更新檔案：`.github/skills/scout-news/MY_PROFILE.md`

### 變更內容
| 維度 | 要點數 | 狀態 |
|------|--------|------|
| 主題偏好 | X 項 | ✅ 已更新 |
| 視角偏好 | X 項 | ✅ 已更新 |
| 風格偏好 | X 項 | ✅ 已更新 |
| 關注方向清單 | — | 未變動 |

### 下一步建議
- 使用 `scout-news` 根據最新偏好搜尋新聞
- 定期（每月或累積新的喜歡文章時）重新執行此 skill 更新偏好
```

## 操作指引

**觸發條件**：
- 用戶說「更新偏好」「更新我的 profile」「分析我喜歡的文章」
- 用戶說「update profile」「analyze my reading preferences」
- 用戶說「我最近喜歡這幾篇文章，幫我更新偏好」

**建議頻率**：
- 每月一次，或累積 5+ 篇新的喜歡文章時
- 每次分析時建議混合新舊文章，確保偏好反映長期品味而非一時興趣

**與其他 skill 的串接**：
- `update-profile` → 更新 `MY_PROFILE.md` → `scout-news` 讀取偏好搜尋更精準的新聞

## 禁止事項

- ❌ 不要在用戶確認前就寫入 MY_PROFILE.md
- ❌ 不要修改「關注方向清單」區段（那是用戶手動維護的）
- ❌ 不要用模糊描述（如「有趣的主題」），要精確到可當搜尋指令
- ❌ 不要過度推論——只從提供的文章中萃取，不加入文章沒有的偏好
- ❌ 不要刪除 MY_PROFILE.md 中已有的其他內容

## 品質檢查

完成後自我檢查：
- ✅ 三個維度都有分析結果（不為空）
- ✅ 每個要點描述精煉、具體、可操作
- ✅ 分析結果經過用戶確認才寫入
- ✅ MY_PROFILE.md 的日期已更新
- ✅ 「關注方向清單」區段完整保留
