---
tags:
  - general-ad-play-platform
---
# 【**M6 CMS 適配器**】

## ▋模組目標

| 模組 | 主要責任 | 主要輸入 | 主要輸出 | 下游依賴 | 
|---|---|---|---|---|
| **M6 CMS 適配器** | API 呼叫 / 回報 | 排程表 (來自 M5) | CMS 執行結果 | M3 (回饋), M7 (報表數據) | 

## ▋核心功能流程（對應功能 F5）

| 功能代碼 | 功能名稱 | 功能流程說明 | 
|---|---|---|
| F5 | **推播排程 & CMS 互連** | M5 產生排程表 ➜ **M6** 將排程表轉換為各 CMS 能接受的 API 指令格式 ➜ **M6** 呼叫對應 CMS API ➜ 下發播放排程至指定 Digital Signage | 

## ▋模組任務拆解

● **T1：多種 CMS API 適配**
．目標： 根據「相容性」需求（需支援至少 3 種 CMS 類型），實作針對不同 CMS 的 API 客戶端（Client）或轉換邏輯。確保輸入的標準化「排程表」可以被正確翻譯成各目標 CMS 所需的 API request 格式（包含認證、參數、內容格式等）。

● **T2：播放指令下發與狀態追蹤**
．目標： 實作呼叫 CMS API 的核心邏輯，將轉換後的指令穩定地下發給 CMS。並建立機制以接收或輪詢 CMS 回傳的執行狀態（例如：已接收、已排程、播放中、播放失敗等）。

● **T3：執行結果回報**
．目標： 將從 CMS 獲取的執行狀態或結果（如 T2 所述），整理成標準化格式，回饋給相關模組。主要包含：
\* 給 M3 分析模組：提供播放紀錄、錯誤資訊等，用於分析實際播放成效與異常。
\* 給 M7 公版報表模組：提供彙總後的播放數據，用於儀表板呈現。
\* 可能也包含給 M5 排程器：回報下發成功/失敗，以便 M5 調整或重試。

● **T4：錯誤處理與重試機制**
．目標： 設計 M6 與 CMS 溝通時的錯誤處理流程，例如 API 呼叫失敗、超時、CMS 回報錯誤碼等。根據錯誤類型，實作適當的重試策略或告警通知（串接 M9 監控）。

---

## ▋ 除了播放清單/排程，M6 與 CMS 的其他互動機會 (新增 Function 思考點)

除了核心的「下發播放排程 (F5)」功能外，M6 CMS 適配器還可以扮演更多角色，深化平台與終端 CMS 的整合：

1. **F6.1：內容素材同步 (Content Synchronization)**

   - **流程：** M2 廣告解析模組處理完素材後，可觸發 M6 將新的廣告素材檔案（影片/圖片）透過 CMS API 直接上傳到 CMS 的媒體庫中。

   - **價值：** 減少人工到各 CMS 後台重複上傳素材的動作，確保平台與 CMS 內容一致性。素材預先到位，有利於排程下發時的效率。

2. **F6.2：播放器狀態監控 (Player Status Monitoring)**

   - **流程：** M6 定期或按需透過 CMS API 查詢所納管的 Digital Signage 播放器狀態（例如：在線/離線、硬碟空間、錯誤訊息、軟體版本等）。

   - **價值：** 將終端設備的健康狀況回饋給平台（可能整合進 M7 報表或 M9 監控），讓營運人員能即時掌握設備情況，提早發現問題。

3. **F6.3：實際播放證明擷取 (Proof-of-Play Retrieval)**

   - **流程：** M6 透過 CMS API 取得實際的廣告播放紀錄 (Log)，包含哪個素材在哪個時間點於哪個螢幕實際播放完成。

   - **價值：** 這是比「排程下發成功」更進一步的確認。這些精確的播放證明對於廣告客戶結算、成效分析 (M3) 至關重要。

4. **F6.4：設備遠端控制 (Remote Device Control - 進階)**

   - **流程：** 允許平台透過 M6 發送特定指令給 CMS，再由 CMS 控制播放器執行動作，例如：遠端重啟、調整音量/亮度、截圖、更新播放器軟體等。

   - **價值：** 提供更細緻的遠端管理能力，提升維運效率，特別是在設備數量龐大或分佈廣泛時。

5. **F6.5：緊急訊息插播 (Emergency Broadcast Override)**

   - **流程：** 當有緊急事件（如：防災、促銷快訊）需要立即推播時，平台可觸發 M6 呼叫 CMS 的特定 API，要求立即插播指定訊息，暫時覆蓋原定排程。

   - **價值：** 提高平台的應變能力和訊息傳達的即時性。

6. **F6.6：播放器資訊查詢 (Device Inventory Query)**

   - **流程：** 平台可透過 M6 向 CMS 查詢其管理的播放器清單、型號、位置、標籤等資訊。

   - **價值：** 讓平台能動態獲取最新的設備資產狀況，無需手動維護一份可能過時的清單，有助於 M4/M5 在做推薦與排程時能選擇正確的目標。

這些額外的互動功能可以讓「通用廣告推播平台」與下游的 CMS 系統整合得更加緊密，不只是一個單向的指令發送者，更能雙向溝通、監控狀態、同步資源，提升整體平台的價值和管理效率。